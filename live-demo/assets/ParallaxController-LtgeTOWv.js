import{_ as _e,e as L,f as Q,l as Z,m as me,q as ye,o as M,c as X,a as p,s as R,F as ge,v as we,x as U,y as N,z as be,p as Ee,j as Ce}from"./index-GSsmQ5ul.js";function Oe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Se=4,Ie=.001,xe=1e-7,Le=10,z=11,B=1/(z-1),Ae=typeof Float32Array=="function";function ne(e,t){return 1-3*t+3*e}function le(e,t){return 3*t-6*e}function oe(e){return 3*e}function T(e,t,a){return((ne(t,a)*e+le(t,a))*e+oe(t))*e}function ue(e,t,a){return 3*ne(t,a)*e*e+2*le(t,a)*e+oe(t)}function Ye(e,t,a,i,r){var s,n,u=0;do n=t+(a-t)/2,s=T(n,i,r)-e,s>0?a=n:t=n;while(Math.abs(s)>xe&&++u<Le);return n}function Pe(e,t,a,i){for(var r=0;r<Se;++r){var s=ue(t,a,i);if(s===0)return t;var n=T(t,a,i)-e;t-=n/s}return t}function Me(e){return e}var Xe=function(t,a,i,r){if(!(0<=t&&t<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===a&&i===r)return Me;for(var s=Ae?new Float32Array(z):new Array(z),n=0;n<z;++n)s[n]=T(n*B,t,i);function u(v){for(var d=0,c=1,f=z-1;c!==f&&s[c]<=v;++c)d+=B;--c;var _=(v-s[c])/(s[c+1]-s[c]),g=d+_*B,m=ue(g,t,i);return m>=Ie?Pe(v,g,t,i):m===0?g:Ye(v,d,d+B,t,i)}return function(d){return d===0?0:d===1?1:T(u(d),a,r)}};const q=Oe(Xe);var j=function(t){this.startX=t.startX,this.startY=t.startY,this.endX=t.endX,this.endY=t.endY,this.totalX=this.endX-this.startX,this.totalY=this.endY-this.startY,this.startMultiplierX=t.startMultiplierX||1,this.endMultiplierX=t.endMultiplierX||1,this.startMultiplierY=t.startMultiplierY||1,this.endMultiplierY=t.endMultiplierY||1};function A(){return A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},A.apply(this,arguments)}var k;(function(e){e.speed="speed",e.translateX="translateX",e.translateY="translateY",e.rotate="rotate",e.rotateX="rotateX",e.rotateY="rotateY",e.rotateZ="rotateZ",e.scale="scale",e.scaleX="scaleX",e.scaleY="scaleY",e.scaleZ="scaleZ",e.opacity="opacity"})(k||(k={}));var Y;(function(e){e.px="px",e["%"]="%",e.vh="vh",e.vw="vw"})(Y||(Y={}));var V;(function(e){e.deg="deg",e.turn="turn",e.rad="rad"})(V||(V={}));var D;(function(e){e[""]=""})(D||(D={}));var S;(function(e){e.vertical="vertical",e.horizontal="horizontal"})(S||(S={}));var J;(function(e){e.ease="ease",e.easeIn="easeIn",e.easeOut="easeOut",e.easeInOut="easeInOut",e.easeInQuad="easeInQuad",e.easeInCubic="easeInCubic",e.easeInQuart="easeInQuart",e.easeInQuint="easeInQuint",e.easeInSine="easeInSine",e.easeInExpo="easeInExpo",e.easeInCirc="easeInCirc",e.easeOutQuad="easeOutQuad",e.easeOutCubic="easeOutCubic",e.easeOutQuart="easeOutQuart",e.easeOutQuint="easeOutQuint",e.easeOutSine="easeOutSine",e.easeOutExpo="easeOutExpo",e.easeOutCirc="easeOutCirc",e.easeInOutQuad="easeInOutQuad",e.easeInOutCubic="easeInOutCubic",e.easeInOutQuart="easeInOutQuart",e.easeInOutQuint="easeInOutQuint",e.easeInOutSine="easeInOutSine",e.easeInOutExpo="easeInOutExpo",e.easeInOutCirc="easeInOutCirc",e.easeInBack="easeInBack",e.easeOutBack="easeOutBack",e.easeInOutBack="easeInOutBack"})(J||(J={}));var K=0;function ze(){return++K,K}var Ve=function(){function e(a){var i=a.el.getBoundingClientRect();if(a.view.scrollContainer){var r=a.view.scrollContainer.getBoundingClientRect();i=A({},i,{top:i.top-r.top,right:i.right-r.left,bottom:i.bottom-r.top,left:i.left-r.left})}this.height=a.el.offsetHeight,this.width=a.el.offsetWidth,this.left=i.left,this.right=i.right,this.top=i.top,this.bottom=i.bottom,a.rootMargin&&this._setRectWithRootMargin(a.rootMargin)}var t=e.prototype;return t._setRectWithRootMargin=function(i){var r=i.top+i.bottom,s=i.left+i.right;this.top-=i.top,this.right+=i.right,this.bottom+=i.bottom,this.left-=i.left,this.height+=r,this.width+=s},e}(),We=[D[""],Y.px,Y["%"],Y.vh,Y.vw,V.deg,V.turn,V.rad];function F(e,t){t===void 0&&(t=Y["%"]);var a={value:0,unit:t};if(typeof e>"u")return a;var i=typeof e=="number"||typeof e=="string";if(!i)throw new Error("Invalid value provided. Must provide a value as a string or number");e=String(e),a.value=parseFloat(e),a.unit=e.match(/[\d.\-+]*\s*(.*)/)[1]||t;var r=We.includes(a.unit);if(!r)throw new Error("Invalid unit provided.");return a}var G={ease:[.25,.1,.25,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1],easeInQuad:[.55,.085,.68,.53],easeInCubic:[.55,.055,.675,.19],easeInQuart:[.895,.03,.685,.22],easeInQuint:[.755,.05,.855,.06],easeInSine:[.47,0,.745,.715],easeInExpo:[.95,.05,.795,.035],easeInCirc:[.6,.04,.98,.335],easeOutQuad:[.25,.46,.45,.94],easeOutCubic:[.215,.61,.355,1],easeOutQuart:[.165,.84,.44,1],easeOutQuint:[.23,1,.32,1],easeOutSine:[.39,.575,.565,1],easeOutExpo:[.19,1,.22,1],easeOutCirc:[.075,.82,.165,1],easeInOutQuad:[.455,.03,.515,.955],easeInOutCubic:[.645,.045,.355,1],easeInOutQuart:[.77,0,.175,1],easeInOutQuint:[.86,0,.07,1],easeInOutSine:[.445,.05,.55,.95],easeInOutExpo:[1,0,0,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};function he(e){if(Array.isArray(e))return q(e[0],e[1],e[2],e[3]);if(typeof e=="string"&&typeof G[e]<"u"){var t=G[e];return q(t[0],t[1],t[2],t[3])}}var Be=Object.values(k),Fe={speed:"px",translateX:"%",translateY:"%",rotate:"deg",rotateX:"deg",rotateY:"deg",rotateZ:"deg",scale:"",scaleX:"",scaleY:"",scaleZ:"",opacity:""};function ee(e,t){var a={};return Be.forEach(function(i){var r=Fe[i];if(typeof(e==null?void 0:e[i])=="number"){var s=e==null?void 0:e[i],n=(s||0)*10+"px",u=(s||0)*-10+"px",v=F(n),d=F(u),c={start:v.value,end:d.value,unit:v.unit};t===S.vertical&&(a.translateY=c),t===S.horizontal&&(a.translateX=c)}if(Array.isArray(e==null?void 0:e[i])){var f=e==null?void 0:e[i];if(typeof f[0]<"u"&&typeof f[1]<"u"){var _=F(f==null?void 0:f[0],r),g=F(f==null?void 0:f[1],r),m=he(f==null?void 0:f[2]);if(a[i]={start:_.value,end:g.value,unit:_.unit,easing:m},_.unit!==g.unit)throw new Error("Must provide matching units for the min and max offset values of each axis.")}}}),a}function te(e,t,a,i){var r=a-e,s=r/t;return i&&(s=i(s)),s}function He(e,t,a){var i=a>=e&&a<=t;return i}function Te(e,t,a,i,r){return(a-t)*(e-i)/(r-i)+t}function de(e,t){var a=Te(typeof e.easing=="function"?e.easing(t):t,(e==null?void 0:e.start)||0,(e==null?void 0:e.end)||0,0,1);return{value:a,unit:e==null?void 0:e.unit}}var ke=Object.values(k).filter(function(e){return e!=="opacity"});function Qe(e,t){var a=Object.keys(t),i=a.includes("opacity"),r="transform"+(i?",opacity":"");e.style.willChange=r}function Re(e,t,a){if(a){var i=Ne(e,t),r=Ue(e,t);a.style.transform=i,a.style.opacity=r}}function Ue(e,t){var a=e.opacity&&de(e.opacity,t);if(typeof a>"u"||typeof a.value>"u"||typeof a.unit>"u")return"";var i=""+a.value;return i}function Ne(e,t){var a=ke.reduce(function(i,r){var s=e[r]&&de(e[r],t);if(typeof s>"u"||typeof s.value>"u"||typeof s.unit>"u")return i;var n=r+"("+s.value+s.unit+")";return i+n},"");return a}function H(e){var t=e.el;t&&(t.style.transform="",t.style.opacity="")}function De(e,t,a,i){var r=e.top-t.height,s=e.left-t.width,n=e.bottom,u=e.right;s+=a.x,u+=a.x,r+=a.y,n+=a.y,i&&(a.y+e.top<t.height&&(r=0),a.x+e.left<t.width&&(s=0),n>t.scrollHeight-t.height&&(n=t.scrollHeight-t.height),u>t.scrollWidth-t.width&&(u=t.scrollWidth-t.width));var v=new j({startX:s,startY:r,endX:u,endY:n});return v}function P(e,t,a){var i=t>e,r=(Math.abs(e)+Math.abs(t))*(i?-1:1),s=a+r,n=Math.max(a/s,1);return n}function ie(e,t){var a=e.start,i=e.end,r=e.unit;if(r==="%"){var s=t/100;a=a*s,i=i*s}if(r==="vw"){var n=a/100,u=i/100;a=window.innerWidth*n,i=window.innerWidth*u}if(r==="vh"){var v=a/100,d=i/100;a=window.innerHeight*v,i=window.innerHeight*d}return{start:a,end:i}}var ae={start:0,end:0,unit:""};function je(e,t,a,i,r,s){var n=a.translateX||ae,u=a.translateY||ae,v=ie(n,e.width),d=v.start,c=v.end,f=ie(u,e.height),_=f.start,g=f.end,m=e.top-t.height,b=e.left-t.width,E=e.bottom,w=e.right,C=1,I=1;r===S.vertical&&(C=P(_,g,t.height+e.height),I=C);var O=1,l=1;if(r===S.horizontal&&(O=P(d,c,t.width+e.width),l=O),_<0&&(m=m+_*C),g>0&&(E=E+g*I),d<0&&(b=b+d*O),c>0&&(w=w+c*l),b+=i.x,w+=i.x,m+=i.y,E+=i.y,s){var o=i.y+e.top<t.height,h=i.x+e.left<t.width,y=i.y+e.bottom>t.scrollHeight-t.height,x=i.x+e.right>t.scrollWidth-t.height;if(o&&y&&(C=1,I=1,m=0,E=t.scrollHeight-t.height),h&&x&&(O=1,l=1,b=0,w=t.scrollWidth-t.width),!o&&y){m=e.top-t.height+i.y,E=t.scrollHeight-t.height;var $=E-m;C=P(_,g,$),I=1,_<0&&(m=m+_*C)}if(!h&&x){b=e.left-t.width+i.x,w=t.scrollWidth-t.width;var ce=w-b;O=P(d,c,ce),l=1,d<0&&(b=b+d*O)}if(o&&!y){m=0,E=e.bottom+i.y;var ve=E-m;C=1,I=P(_,g,ve),g>0&&(E=E+g*I)}if(h&&!x){b=0,w=e.right+i.x;var fe=w-b;O=1,l=P(d,c,fe),c>0&&(w=w+c*l)}}var pe=new j({startX:b,startY:m,endX:w,endY:E,startMultiplierX:O,endMultiplierX:l,startMultiplierY:C,endMultiplierY:I});return pe}function $e(e,t){var a=A({},e);return a.translateX&&(a.translateX=A({},e.translateX,{start:a.translateX.start*t.startMultiplierX,end:a.translateX.end*t.endMultiplierX})),a.translateY&&(a.translateY=A({},e.translateY,{start:a.translateY.start*t.startMultiplierY,end:a.translateY.end*t.endMultiplierY})),a}function Ze(e,t,a){return e.rootMargin||e.targetElement||e.shouldDisableScalingTranslations?!1:!!(t.translateX&&a===S.horizontal||t.translateY&&a===S.vertical)}var re=function(t,a,i){return Math.min(Math.max(t,a),i)},qe=function(){function e(a){this.el=a.el,this.props=a.props,this.scrollAxis=a.scrollAxis,this.disabledParallaxController=a.disabledParallaxController||!1,this.id=ze(),this.effects=ee(this.props,this.scrollAxis),this.isInView=null,this.progress=0,this._setElementEasing(a.props.easing),Qe(a.el,this.effects)}var t=e.prototype;return t.updateProps=function(i){return this.props=A({},this.props,i),this.effects=ee(i,this.scrollAxis),this._setElementEasing(i.easing),this},t.setCachedAttributes=function(i,r){H(this),this.rect=new Ve({el:this.props.targetElement||this.el,rootMargin:this.props.rootMargin,view:i});var s=Ze(this.props,this.effects,this.scrollAxis);return typeof this.props.startScroll=="number"&&typeof this.props.endScroll=="number"?(this.limits=new j({startX:this.props.startScroll,startY:this.props.startScroll,endX:this.props.endScroll,endY:this.props.endScroll}),this._setElementStyles(),this):(s?(this.limits=je(this.rect,i,this.effects,r,this.scrollAxis,this.props.shouldAlwaysCompleteAnimation),this.scaledEffects=$e(this.effects,this.limits)):this.limits=De(this.rect,i,r,this.props.shouldAlwaysCompleteAnimation),this._setElementStyles(),this)},t._updateElementIsInView=function(i){var r=this.isInView===null;i!==this.isInView&&(i?this.props.onEnter&&this.props.onEnter(this):r||(this._setFinalProgress(),this._setElementStyles(),this.props.onExit&&this.props.onExit(this))),this.isInView=i},t._setFinalProgress=function(){var i=re(Math.round(this.progress),0,1);this._updateElementProgress(i)},t._setElementStyles=function(){if(!(this.props.disabled||this.disabledParallaxController)){var i=this.scaledEffects||this.effects;Re(i,this.progress,this.el)}},t._updateElementProgress=function(i){this.progress=i,this.props.onProgressChange&&this.props.onProgressChange(this.progress),this.props.onChange&&this.props.onChange(this)},t._setElementEasing=function(i){this.easing=he(i)},t.updateElementOptions=function(i){this.scrollAxis=i.scrollAxis,this.disabledParallaxController=i.disabledParallaxController||!1},t.updatePosition=function(i){if(!this.limits)return this;var r=this.scrollAxis===S.vertical,s=this.isInView===null,n=r?this.limits.startY:this.limits.startX,u=r?this.limits.endY:this.limits.endX,v=r?this.limits.totalY:this.limits.totalX,d=r?i.y:i.x,c=He(n,u,d);if(this._updateElementIsInView(c),c){var f=te(n,v,d,this.easing);this._updateElementProgress(f),this._setElementStyles()}else s&&(this.progress=re(Math.round(te(n,v,d,this.easing)),0,1),this._setElementStyles());return this},e}(),se=function(){function e(a){this.scrollContainer=a.scrollContainer,this.width=a.width,this.height=a.height,this.scrollHeight=a.scrollHeight,this.scrollWidth=a.scrollWidth}var t=e.prototype;return t.hasChanged=function(i){return i.width!==this.width||i.height!==this.height||i.scrollWidth!==this.scrollWidth||i.scrollHeight!==this.scrollHeight},t.setSize=function(i){return this.width=i.width,this.height=i.height,this.scrollHeight=i.scrollHeight,this.scrollWidth=i.scrollWidth,this},e}(),Je=function(){function e(a,i){this.x=a,this.y=i,this.dx=0,this.dy=0}var t=e.prototype;return t.setScroll=function(i,r){return this.dx=i-this.x,this.dy=r-this.y,this.x=i,this.y=r,this},e}();function Ke(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e}var Ge=function(){function e(a){var i=a.scrollAxis,r=i===void 0?S.vertical:i,s=a.scrollContainer,n=a.disabled,u=n===void 0?!1:n;this.disabled=u,this.scrollAxis=r,this.elements=[],this._hasScrollContainer=!!s,this.viewEl=s??window;var v=this._getScrollPosition(),d=v[0],c=v[1];this.scroll=new Je(d,c),this.view=new se({width:0,height:0,scrollWidth:0,scrollHeight:0,scrollContainer:this._hasScrollContainer?s:void 0}),this._ticking=!1,this._supportsPassive=Ke(),this._bindAllMethods(),!this.disabled&&(this._addListeners(this.viewEl),this._addResizeObserver(),this._setViewSize())}e.init=function(i){var r=typeof window<"u";if(!r)throw new Error("Looks like ParallaxController.init() was called on the server. This method must be called on the client.");return new e(i)};var t=e.prototype;return t._bindAllMethods=function(){var i=this;["_addListeners","_removeListeners","_getScrollPosition","_handleScroll","_handleUpdateCache","_updateAllElements","_updateElementPosition","_setViewSize","_addResizeObserver","_checkIfViewHasChanged","_getViewParams","getElements","createElement","removeElementById","resetElementStyles","updateElementPropsById","update","updateScrollContainer","destroy"].forEach(function(r){i[r]=i[r].bind(i)})},t._addListeners=function(i){i.addEventListener("scroll",this._handleScroll,this._supportsPassive?{passive:!0}:!1),window.addEventListener("resize",this._handleUpdateCache,!1),window.addEventListener("blur",this._handleUpdateCache,!1),window.addEventListener("focus",this._handleUpdateCache,!1),window.addEventListener("load",this._handleUpdateCache,!1)},t._removeListeners=function(i){var r;i.removeEventListener("scroll",this._handleScroll,!1),window.removeEventListener("resize",this._handleUpdateCache,!1),window.removeEventListener("blur",this._handleUpdateCache,!1),window.removeEventListener("focus",this._handleUpdateCache,!1),window.removeEventListener("load",this._handleUpdateCache,!1),(r=this._resizeObserver)==null||r.disconnect()},t._addResizeObserver=function(){var i=this;try{var r=this._hasScrollContainer?this.viewEl:document.documentElement;this._resizeObserver=new ResizeObserver(function(){return i.update()}),this._resizeObserver.observe(r)}catch{console.warn("Failed to create the resize observer in the ParallaxContoller")}},t._getScrollPosition=function(){var i=this._hasScrollContainer?this.viewEl.scrollLeft:window.pageXOffset,r=this._hasScrollContainer?this.viewEl.scrollTop:window.pageYOffset;return[i,r]},t._handleScroll=function(){var i,r=this._getScrollPosition(),s=r[0],n=r[1];this.scroll.setScroll(s,n),!this._ticking&&((i=this.elements)==null?void 0:i.length)>0&&(this._ticking=!0,window.requestAnimationFrame(this._updateAllElements))},t._handleUpdateCache=function(){this._setViewSize(),this._updateAllElements({updateCache:!0})},t._updateAllElements=function(i){var r=this,s=i===void 0?{}:i,n=s.updateCache;this.elements&&this.elements.forEach(function(u){n&&u.setCachedAttributes(r.view,r.scroll),r._updateElementPosition(u)}),this._ticking=!1},t._updateElementPosition=function(i){i.props.disabled||this.disabled||i.updatePosition(this.scroll)},t._getViewParams=function(){if(this._hasScrollContainer){var i=this.viewEl.offsetWidth,r=this.viewEl.offsetHeight,s=this.viewEl.scrollHeight,n=this.viewEl.scrollWidth;return this.view.setSize({width:i,height:r,scrollHeight:s,scrollWidth:n})}var u=document.documentElement,v=window.innerWidth||u.clientWidth,d=window.innerHeight||u.clientHeight,c=u.scrollHeight,f=u.scrollWidth;return{width:v,height:d,scrollHeight:c,scrollWidth:f}},t._setViewSize=function(){return this.view.setSize(this._getViewParams())},t._checkIfViewHasChanged=function(){return this.view.hasChanged(this._getViewParams())},t.getElements=function(){return this.elements},t.createElement=function(i){var r=new qe(A({},i,{scrollAxis:this.scrollAxis,disabledParallaxController:this.disabled}));return r.setCachedAttributes(this.view,this.scroll),this.elements=this.elements?[].concat(this.elements,[r]):[r],this._updateElementPosition(r),this._checkIfViewHasChanged()&&this.update(),r},t.removeElementById=function(i){this.elements&&(this.elements=this.elements.filter(function(r){return r.id!==i}))},t.updateElementPropsById=function(i,r){this.elements&&(this.elements=this.elements.map(function(s){return s.id===i?s.updateProps(r):s})),this.update()},t.resetElementStyles=function(i){H(i)},t.update=function(){var i=this._getScrollPosition(),r=i[0],s=i[1];this.scroll.setScroll(r,s),this._setViewSize(),this._updateAllElements({updateCache:!0})},t.updateScrollContainer=function(i){this._removeListeners(this.viewEl),this.viewEl=i,this._hasScrollContainer=!!i,this.view=new se({width:0,height:0,scrollWidth:0,scrollHeight:0,scrollContainer:i}),this._setViewSize(),this._addListeners(this.viewEl),this._updateAllElements({updateCache:!0})},t.disableParallaxController=function(){this.disabled=!0,this._removeListeners(this.viewEl),this.elements&&this.elements.forEach(function(i){return H(i)})},t.enableParallaxController=function(){var i=this;this.disabled=!1,this.elements&&this.elements.forEach(function(r){return r.updateElementOptions({disabledParallaxController:!1,scrollAxis:i.scrollAxis})}),this._addListeners(this.viewEl),this._addResizeObserver(),this._setViewSize()},t.disableAllElements=function(){console.warn("deprecated: use disableParallaxController() instead"),this.elements&&(this.elements=this.elements.map(function(i){return i.updateProps({disabled:!0})})),this.update()},t.enableAllElements=function(){console.warn("deprecated: use enableParallaxController() instead"),this.elements&&(this.elements=this.elements.map(function(i){return i.updateProps({disabled:!1})})),this.update()},t.destroy=function(){this._removeListeners(this.viewEl),this.elements&&this.elements.forEach(function(i){return H(i)}),this.elements=void 0},e}();const W=e=>(Ee("data-v-25de1455"),e=e(),Ce(),e),et={class:"page"},tt=W(()=>p("h2",null,"Parallax Controller - Vue Integration Examples",-1)),it={class:"example"},at=W(()=>p("h3",null,"Basic: manual addLayer / removeLayer",-1)),rt={class:"controls"},st={class:"example"},nt=W(()=>p("h3",null,"Multiple layers (reactive list)",-1)),lt={class:"controls"},ot=["disabled"],ut={class:"example"},ht=W(()=>p("h3",null,"Directive: v-parallax-layer",-1)),dt={class:"layer directive"},ct={class:"layer directive"},vt={class:"controls"},ft={class:"example"},pt=W(()=>p("h3",null,"Programmatic control",-1)),_t={class:"controls"},mt={__name:"ParallaxController",setup(e){const t=L(null),a=L(!0);function i(){return t.value||(t.value=new Ge({motion:"pointer",sensitivity:.9,friction:.12,invert:!1,clamp:!0,perspective:800})),t.value}Q(()=>{i()}),Z(()=>{t.value&&t.value.destroy&&(t.value.destroy(),t.value=null)});const r=L(null),s=L(null),n=L(!0),u=L(.08);Q(()=>{var l;t.value||i(),s.value&&((l=t.value)!=null&&l.addLayer)&&t.value.addLayer(s.value,{depth:u.value,container:r.value})});function v(){n.value=!n.value,t.value&&(n.value?t.value.addLayer(s.value,{depth:u.value,container:r.value}):t.value.removeLayer(s.value))}function d(){t.value&&t.value.updateLayer(s.value,{depth:u.value})}const c=L(null),f=new Map,_=me([]);let g=1;function m(l,o){if(!l){f.delete(o);return}f.set(o,l)}function b(){_.push({id:g++,depth:Math.random()*.12+.01})}function E(){var o;const l=_.pop();if(l&&f.has(l.id)){const h=f.get(l.id);(o=t.value)==null||o.removeLayer(h),f.delete(l.id)}}ye(()=>_.length,()=>{var l,o;for(const h of _){const y=f.get(h.id);y&&t.value&&((o=(l=t.value).addLayer)==null||o.call(l,y,{depth:h.depth,container:c.value}))}});const w=L(null),C={mounted(l,o){var h,y;t.value||i(),(y=(h=t.value).addLayer)==null||y.call(h,l,Object.assign({container:w.value},o.value||{})),l.__parallax_opts=o.value||{}},updated(l,o){var h;(h=t.value)!=null&&h.updateLayer&&t.value.updateLayer(l,Object.assign({container:w.value},o.value||{})),l.__parallax_opts=o.value||{}},unmounted(l){var o,h;(h=(o=t.value)==null?void 0:o.removeLayer)==null||h.call(o,l),delete l.__parallax_opts}};Q(()=>{var o;(((o=w.value)==null?void 0:o.querySelectorAll("[v-parallax-layer], [data-v-parallax-layer]"))||[]).forEach(h=>{const y=h.getAttribute("data-parallax")||h.getAttribute("data-parallax-options");let x={};try{y&&(x=JSON.parse(y))}catch{x={}}C.mounted(h,{value:x})})});function I(){t.value||i(),a.value=!a.value,a.value&&t.value.enable&&t.value.enable(),!a.value&&t.value.disable&&t.value.disable()}function O(){var l,o;(o=(l=t.value)==null?void 0:l.recenter)==null||o.call(l)}return Z(()=>{var l,o,h,y;s.value&&((o=(l=t.value)==null?void 0:l.removeLayer)==null||o.call(l,s.value));for(const x of f.values())(y=(h=t.value)==null?void 0:h.removeLayer)==null||y.call(h,x)}),(l,o)=>(M(),X("div",et,[tt,p("section",it,[at,p("div",{ref_key:"basicViewport",ref:r,class:"viewport"},[p("div",{ref_key:"basicLayer",ref:s,class:"layer basic"},"Basic layer",512)],512),p("div",rt,[p("button",{onClick:v},"Toggle Basic "+R(n.value?"Off":"On"),1)])]),p("section",st,[nt,p("div",{ref_key:"multiViewport",ref:c,class:"viewport"},[(M(!0),X(ge,null,we(_,h=>(M(),X("div",{key:h.id,ref_for:!0,ref:y=>m(y,h.id),class:"layer multi"}," Layer "+R(h.id),1))),128))],512),p("div",lt,[p("button",{onClick:b},"Add layer"),p("button",{onClick:E,disabled:_.length===0},"Remove layer",8,ot)])]),p("section",ut,[ht,p("div",{ref_key:"dirViewport",ref:w,class:"viewport"},[U((M(),X("div",dt,[N("Directive Layer (depth 0.12)")])),[[C,{depth:.12}]]),U((M(),X("div",ct,[N("Directive Layer (depth 0.04)")])),[[C,{depth:.04}]])],512),p("div",vt,[p("button",{onClick:I},"Toggle Controller "+R(a.value?"Off":"On"),1)])]),p("section",ft,[pt,p("div",_t,[p("label",null,[N(" Depth for Basic Layer: "),U(p("input",{type:"range",min:"0",max:"0.5",step:"0.01","onUpdate:modelValue":o[0]||(o[0]=h=>u.value=h)},null,512),[[be,u.value,void 0,{number:!0}]])]),p("button",{onClick:d},"Apply"),p("button",{onClick:O},"Recenter")])])]))}},gt=_e(mt,[["__scopeId","data-v-25de1455"]]);export{gt as default};
