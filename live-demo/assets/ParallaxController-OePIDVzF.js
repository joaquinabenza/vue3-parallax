import{_ as pe,e as L,f as T,k as $,l as me,m as _e,c as M,a as p,p as Q,F as ye,q as ge,s as R,v as U,x as we,o as X}from"./index-C5jkSTg1.js";function be(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ee=4,Ce=.001,Oe=1e-7,xe=10,z=11,W=1/(z-1),Se=typeof Float32Array=="function";function se(t,e){return 1-3*e+3*t}function ne(t,e){return 3*e-6*t}function le(t){return 3*t}function k(t,e,r){return((se(e,r)*t+ne(e,r))*t+le(e))*t}function oe(t,e,r){return 3*se(e,r)*t*t+2*ne(e,r)*t+le(e)}function Ie(t,e,r,i,a){var s,l,u=0;do l=e+(r-e)/2,s=k(l,i,a)-t,s>0?r=l:e=l;while(Math.abs(s)>Oe&&++u<xe);return l}function Le(t,e,r,i){for(var a=0;a<Ee;++a){var s=oe(e,r,i);if(s===0)return e;var l=k(e,r,i)-t;e-=l/s}return e}function Ae(t){return t}var Ye=function(e,r,i,a){if(!(0<=e&&e<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===r&&i===a)return Ae;for(var s=Se?new Float32Array(z):new Array(z),l=0;l<z;++l)s[l]=k(l*W,e,i);function u(v){for(var d=0,c=1,f=z-1;c!==f&&s[c]<=v;++c)d+=W;--c;var m=(v-s[c])/(s[c+1]-s[c]),g=d+m*W,_=oe(g,e,i);return _>=Ce?Le(v,g,e,i):_===0?g:Ie(v,d,d+W,e,i)}return function(d){return d===0?0:d===1?1:k(u(d),r,a)}};const Z=be(Ye);var D=function(e){this.startX=e.startX,this.startY=e.startY,this.endX=e.endX,this.endY=e.endY,this.totalX=this.endX-this.startX,this.totalY=this.endY-this.startY,this.startMultiplierX=e.startMultiplierX||1,this.endMultiplierX=e.endMultiplierX||1,this.startMultiplierY=e.startMultiplierY||1,this.endMultiplierY=e.endMultiplierY||1};function A(){return A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},A.apply(this,arguments)}var H;(function(t){t.speed="speed",t.translateX="translateX",t.translateY="translateY",t.rotate="rotate",t.rotateX="rotateX",t.rotateY="rotateY",t.rotateZ="rotateZ",t.scale="scale",t.scaleX="scaleX",t.scaleY="scaleY",t.scaleZ="scaleZ",t.opacity="opacity"})(H||(H={}));var Y;(function(t){t.px="px",t["%"]="%",t.vh="vh",t.vw="vw"})(Y||(Y={}));var V;(function(t){t.deg="deg",t.turn="turn",t.rad="rad"})(V||(V={}));var N;(function(t){t[""]=""})(N||(N={}));var x;(function(t){t.vertical="vertical",t.horizontal="horizontal"})(x||(x={}));var q;(function(t){t.ease="ease",t.easeIn="easeIn",t.easeOut="easeOut",t.easeInOut="easeInOut",t.easeInQuad="easeInQuad",t.easeInCubic="easeInCubic",t.easeInQuart="easeInQuart",t.easeInQuint="easeInQuint",t.easeInSine="easeInSine",t.easeInExpo="easeInExpo",t.easeInCirc="easeInCirc",t.easeOutQuad="easeOutQuad",t.easeOutCubic="easeOutCubic",t.easeOutQuart="easeOutQuart",t.easeOutQuint="easeOutQuint",t.easeOutSine="easeOutSine",t.easeOutExpo="easeOutExpo",t.easeOutCirc="easeOutCirc",t.easeInOutQuad="easeInOutQuad",t.easeInOutCubic="easeInOutCubic",t.easeInOutQuart="easeInOutQuart",t.easeInOutQuint="easeInOutQuint",t.easeInOutSine="easeInOutSine",t.easeInOutExpo="easeInOutExpo",t.easeInOutCirc="easeInOutCirc",t.easeInBack="easeInBack",t.easeOutBack="easeOutBack",t.easeInOutBack="easeInOutBack"})(q||(q={}));var J=0;function Pe(){return++J,J}var Me=function(){function t(r){var i=r.el.getBoundingClientRect();if(r.view.scrollContainer){var a=r.view.scrollContainer.getBoundingClientRect();i=A({},i,{top:i.top-a.top,right:i.right-a.left,bottom:i.bottom-a.top,left:i.left-a.left})}this.height=r.el.offsetHeight,this.width=r.el.offsetWidth,this.left=i.left,this.right=i.right,this.top=i.top,this.bottom=i.bottom,r.rootMargin&&this._setRectWithRootMargin(r.rootMargin)}var e=t.prototype;return e._setRectWithRootMargin=function(i){var a=i.top+i.bottom,s=i.left+i.right;this.top-=i.top,this.right+=i.right,this.bottom+=i.bottom,this.left-=i.left,this.height+=a,this.width+=s},t}(),Xe=[N[""],Y.px,Y["%"],Y.vh,Y.vw,V.deg,V.turn,V.rad];function B(t,e){e===void 0&&(e=Y["%"]);var r={value:0,unit:e};if(typeof t>"u")return r;var i=typeof t=="number"||typeof t=="string";if(!i)throw new Error("Invalid value provided. Must provide a value as a string or number");t=String(t),r.value=parseFloat(t),r.unit=t.match(/[\d.\-+]*\s*(.*)/)[1]||e;var a=Xe.includes(r.unit);if(!a)throw new Error("Invalid unit provided.");return r}var K={ease:[.25,.1,.25,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1],easeInQuad:[.55,.085,.68,.53],easeInCubic:[.55,.055,.675,.19],easeInQuart:[.895,.03,.685,.22],easeInQuint:[.755,.05,.855,.06],easeInSine:[.47,0,.745,.715],easeInExpo:[.95,.05,.795,.035],easeInCirc:[.6,.04,.98,.335],easeOutQuad:[.25,.46,.45,.94],easeOutCubic:[.215,.61,.355,1],easeOutQuart:[.165,.84,.44,1],easeOutQuint:[.23,1,.32,1],easeOutSine:[.39,.575,.565,1],easeOutExpo:[.19,1,.22,1],easeOutCirc:[.075,.82,.165,1],easeInOutQuad:[.455,.03,.515,.955],easeInOutCubic:[.645,.045,.355,1],easeInOutQuart:[.77,0,.175,1],easeInOutQuint:[.86,0,.07,1],easeInOutSine:[.445,.05,.55,.95],easeInOutExpo:[1,0,0,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};function ue(t){if(Array.isArray(t))return Z(t[0],t[1],t[2],t[3]);if(typeof t=="string"&&typeof K[t]<"u"){var e=K[t];return Z(e[0],e[1],e[2],e[3])}}var ze=Object.values(H),Ve={speed:"px",translateX:"%",translateY:"%",rotate:"deg",rotateX:"deg",rotateY:"deg",rotateZ:"deg",scale:"",scaleX:"",scaleY:"",scaleZ:"",opacity:""};function G(t,e){var r={};return ze.forEach(function(i){var a=Ve[i];if(typeof(t==null?void 0:t[i])=="number"){var s=t==null?void 0:t[i],l=(s||0)*10+"px",u=(s||0)*-10+"px",v=B(l),d=B(u),c={start:v.value,end:d.value,unit:v.unit};e===x.vertical&&(r.translateY=c),e===x.horizontal&&(r.translateX=c)}if(Array.isArray(t==null?void 0:t[i])){var f=t==null?void 0:t[i];if(typeof f[0]<"u"&&typeof f[1]<"u"){var m=B(f==null?void 0:f[0],a),g=B(f==null?void 0:f[1],a),_=ue(f==null?void 0:f[2]);if(r[i]={start:m.value,end:g.value,unit:m.unit,easing:_},m.unit!==g.unit)throw new Error("Must provide matching units for the min and max offset values of each axis.")}}}),r}function ee(t,e,r,i){var a=r-t,s=a/e;return i&&(s=i(s)),s}function We(t,e,r){var i=r>=t&&r<=e;return i}function Be(t,e,r,i,a){return(r-e)*(t-i)/(a-i)+e}function he(t,e){var r=Be(typeof t.easing=="function"?t.easing(e):e,(t==null?void 0:t.start)||0,(t==null?void 0:t.end)||0,0,1);return{value:r,unit:t==null?void 0:t.unit}}var Fe=Object.values(H).filter(function(t){return t!=="opacity"});function ke(t,e){var r=Object.keys(e),i=r.includes("opacity"),a="transform"+(i?",opacity":"");t.style.willChange=a}function He(t,e,r){if(r){var i=Qe(t,e),a=Te(t,e);r.style.transform=i,r.style.opacity=a}}function Te(t,e){var r=t.opacity&&he(t.opacity,e);if(typeof r>"u"||typeof r.value>"u"||typeof r.unit>"u")return"";var i=""+r.value;return i}function Qe(t,e){var r=Fe.reduce(function(i,a){var s=t[a]&&he(t[a],e);if(typeof s>"u"||typeof s.value>"u"||typeof s.unit>"u")return i;var l=a+"("+s.value+s.unit+")";return i+l},"");return r}function F(t){var e=t.el;e&&(e.style.transform="",e.style.opacity="")}function Re(t,e,r,i){var a=t.top-e.height,s=t.left-e.width,l=t.bottom,u=t.right;s+=r.x,u+=r.x,a+=r.y,l+=r.y,i&&(r.y+t.top<e.height&&(a=0),r.x+t.left<e.width&&(s=0),l>e.scrollHeight-e.height&&(l=e.scrollHeight-e.height),u>e.scrollWidth-e.width&&(u=e.scrollWidth-e.width));var v=new D({startX:s,startY:a,endX:u,endY:l});return v}function P(t,e,r){var i=e>t,a=(Math.abs(t)+Math.abs(e))*(i?-1:1),s=r+a,l=Math.max(r/s,1);return l}function te(t,e){var r=t.start,i=t.end,a=t.unit;if(a==="%"){var s=e/100;r=r*s,i=i*s}if(a==="vw"){var l=r/100,u=i/100;r=window.innerWidth*l,i=window.innerWidth*u}if(a==="vh"){var v=r/100,d=i/100;r=window.innerHeight*v,i=window.innerHeight*d}return{start:r,end:i}}var ie={start:0,end:0,unit:""};function Ue(t,e,r,i,a,s){var l=r.translateX||ie,u=r.translateY||ie,v=te(l,t.width),d=v.start,c=v.end,f=te(u,t.height),m=f.start,g=f.end,_=t.top-e.height,b=t.left-e.width,E=t.bottom,w=t.right,C=1,S=1;a===x.vertical&&(C=P(m,g,e.height+t.height),S=C);var O=1,o=1;if(a===x.horizontal&&(O=P(d,c,e.width+t.width),o=O),m<0&&(_=_+m*C),g>0&&(E=E+g*S),d<0&&(b=b+d*O),c>0&&(w=w+c*o),b+=i.x,w+=i.x,_+=i.y,E+=i.y,s){var n=i.y+t.top<e.height,h=i.x+t.left<e.width,y=i.y+t.bottom>e.scrollHeight-e.height,I=i.x+t.right>e.scrollWidth-e.height;if(n&&y&&(C=1,S=1,_=0,E=e.scrollHeight-e.height),h&&I&&(O=1,o=1,b=0,w=e.scrollWidth-e.width),!n&&y){_=t.top-e.height+i.y,E=e.scrollHeight-e.height;var j=E-_;C=P(m,g,j),S=1,m<0&&(_=_+m*C)}if(!h&&I){b=t.left-e.width+i.x,w=e.scrollWidth-e.width;var de=w-b;O=P(d,c,de),o=1,d<0&&(b=b+d*O)}if(n&&!y){_=0,E=t.bottom+i.y;var ce=E-_;C=1,S=P(m,g,ce),g>0&&(E=E+g*S)}if(h&&!I){b=0,w=t.right+i.x;var ve=w-b;O=1,o=P(d,c,ve),c>0&&(w=w+c*o)}}var fe=new D({startX:b,startY:_,endX:w,endY:E,startMultiplierX:O,endMultiplierX:o,startMultiplierY:C,endMultiplierY:S});return fe}function Ne(t,e){var r=A({},t);return r.translateX&&(r.translateX=A({},t.translateX,{start:r.translateX.start*e.startMultiplierX,end:r.translateX.end*e.endMultiplierX})),r.translateY&&(r.translateY=A({},t.translateY,{start:r.translateY.start*e.startMultiplierY,end:r.translateY.end*e.endMultiplierY})),r}function De(t,e,r){return t.rootMargin||t.targetElement||t.shouldDisableScalingTranslations?!1:!!(e.translateX&&r===x.horizontal||e.translateY&&r===x.vertical)}var re=function(e,r,i){return Math.min(Math.max(e,r),i)},je=function(){function t(r){this.el=r.el,this.props=r.props,this.scrollAxis=r.scrollAxis,this.disabledParallaxController=r.disabledParallaxController||!1,this.id=Pe(),this.effects=G(this.props,this.scrollAxis),this.isInView=null,this.progress=0,this._setElementEasing(r.props.easing),ke(r.el,this.effects)}var e=t.prototype;return e.updateProps=function(i){return this.props=A({},this.props,i),this.effects=G(i,this.scrollAxis),this._setElementEasing(i.easing),this},e.setCachedAttributes=function(i,a){F(this),this.rect=new Me({el:this.props.targetElement||this.el,rootMargin:this.props.rootMargin,view:i});var s=De(this.props,this.effects,this.scrollAxis);return typeof this.props.startScroll=="number"&&typeof this.props.endScroll=="number"?(this.limits=new D({startX:this.props.startScroll,startY:this.props.startScroll,endX:this.props.endScroll,endY:this.props.endScroll}),this._setElementStyles(),this):(s?(this.limits=Ue(this.rect,i,this.effects,a,this.scrollAxis,this.props.shouldAlwaysCompleteAnimation),this.scaledEffects=Ne(this.effects,this.limits)):this.limits=Re(this.rect,i,a,this.props.shouldAlwaysCompleteAnimation),this._setElementStyles(),this)},e._updateElementIsInView=function(i){var a=this.isInView===null;i!==this.isInView&&(i?this.props.onEnter&&this.props.onEnter(this):a||(this._setFinalProgress(),this._setElementStyles(),this.props.onExit&&this.props.onExit(this))),this.isInView=i},e._setFinalProgress=function(){var i=re(Math.round(this.progress),0,1);this._updateElementProgress(i)},e._setElementStyles=function(){if(!(this.props.disabled||this.disabledParallaxController)){var i=this.scaledEffects||this.effects;He(i,this.progress,this.el)}},e._updateElementProgress=function(i){this.progress=i,this.props.onProgressChange&&this.props.onProgressChange(this.progress),this.props.onChange&&this.props.onChange(this)},e._setElementEasing=function(i){this.easing=ue(i)},e.updateElementOptions=function(i){this.scrollAxis=i.scrollAxis,this.disabledParallaxController=i.disabledParallaxController||!1},e.updatePosition=function(i){if(!this.limits)return this;var a=this.scrollAxis===x.vertical,s=this.isInView===null,l=a?this.limits.startY:this.limits.startX,u=a?this.limits.endY:this.limits.endX,v=a?this.limits.totalY:this.limits.totalX,d=a?i.y:i.x,c=We(l,u,d);if(this._updateElementIsInView(c),c){var f=ee(l,v,d,this.easing);this._updateElementProgress(f),this._setElementStyles()}else s&&(this.progress=re(Math.round(ee(l,v,d,this.easing)),0,1),this._setElementStyles());return this},t}(),ae=function(){function t(r){this.scrollContainer=r.scrollContainer,this.width=r.width,this.height=r.height,this.scrollHeight=r.scrollHeight,this.scrollWidth=r.scrollWidth}var e=t.prototype;return e.hasChanged=function(i){return i.width!==this.width||i.height!==this.height||i.scrollWidth!==this.scrollWidth||i.scrollHeight!==this.scrollHeight},e.setSize=function(i){return this.width=i.width,this.height=i.height,this.scrollHeight=i.scrollHeight,this.scrollWidth=i.scrollWidth,this},t}(),$e=function(){function t(r,i){this.x=r,this.y=i,this.dx=0,this.dy=0}var e=t.prototype;return e.setScroll=function(i,a){return this.dx=i-this.x,this.dy=a-this.y,this.x=i,this.y=a,this},t}();function Ze(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return t=!0,!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}var qe=function(){function t(r){var i=r.scrollAxis,a=i===void 0?x.vertical:i,s=r.scrollContainer,l=r.disabled,u=l===void 0?!1:l;this.disabled=u,this.scrollAxis=a,this.elements=[],this._hasScrollContainer=!!s,this.viewEl=s??window;var v=this._getScrollPosition(),d=v[0],c=v[1];this.scroll=new $e(d,c),this.view=new ae({width:0,height:0,scrollWidth:0,scrollHeight:0,scrollContainer:this._hasScrollContainer?s:void 0}),this._ticking=!1,this._supportsPassive=Ze(),this._bindAllMethods(),!this.disabled&&(this._addListeners(this.viewEl),this._addResizeObserver(),this._setViewSize())}t.init=function(i){var a=typeof window<"u";if(!a)throw new Error("Looks like ParallaxController.init() was called on the server. This method must be called on the client.");return new t(i)};var e=t.prototype;return e._bindAllMethods=function(){var i=this;["_addListeners","_removeListeners","_getScrollPosition","_handleScroll","_handleUpdateCache","_updateAllElements","_updateElementPosition","_setViewSize","_addResizeObserver","_checkIfViewHasChanged","_getViewParams","getElements","createElement","removeElementById","resetElementStyles","updateElementPropsById","update","updateScrollContainer","destroy"].forEach(function(a){i[a]=i[a].bind(i)})},e._addListeners=function(i){i.addEventListener("scroll",this._handleScroll,this._supportsPassive?{passive:!0}:!1),window.addEventListener("resize",this._handleUpdateCache,!1),window.addEventListener("blur",this._handleUpdateCache,!1),window.addEventListener("focus",this._handleUpdateCache,!1),window.addEventListener("load",this._handleUpdateCache,!1)},e._removeListeners=function(i){var a;i.removeEventListener("scroll",this._handleScroll,!1),window.removeEventListener("resize",this._handleUpdateCache,!1),window.removeEventListener("blur",this._handleUpdateCache,!1),window.removeEventListener("focus",this._handleUpdateCache,!1),window.removeEventListener("load",this._handleUpdateCache,!1),(a=this._resizeObserver)==null||a.disconnect()},e._addResizeObserver=function(){var i=this;try{var a=this._hasScrollContainer?this.viewEl:document.documentElement;this._resizeObserver=new ResizeObserver(function(){return i.update()}),this._resizeObserver.observe(a)}catch{console.warn("Failed to create the resize observer in the ParallaxContoller")}},e._getScrollPosition=function(){var i=this._hasScrollContainer?this.viewEl.scrollLeft:window.pageXOffset,a=this._hasScrollContainer?this.viewEl.scrollTop:window.pageYOffset;return[i,a]},e._handleScroll=function(){var i,a=this._getScrollPosition(),s=a[0],l=a[1];this.scroll.setScroll(s,l),!this._ticking&&((i=this.elements)==null?void 0:i.length)>0&&(this._ticking=!0,window.requestAnimationFrame(this._updateAllElements))},e._handleUpdateCache=function(){this._setViewSize(),this._updateAllElements({updateCache:!0})},e._updateAllElements=function(i){var a=this,s=i===void 0?{}:i,l=s.updateCache;this.elements&&this.elements.forEach(function(u){l&&u.setCachedAttributes(a.view,a.scroll),a._updateElementPosition(u)}),this._ticking=!1},e._updateElementPosition=function(i){i.props.disabled||this.disabled||i.updatePosition(this.scroll)},e._getViewParams=function(){if(this._hasScrollContainer){var i=this.viewEl.offsetWidth,a=this.viewEl.offsetHeight,s=this.viewEl.scrollHeight,l=this.viewEl.scrollWidth;return this.view.setSize({width:i,height:a,scrollHeight:s,scrollWidth:l})}var u=document.documentElement,v=window.innerWidth||u.clientWidth,d=window.innerHeight||u.clientHeight,c=u.scrollHeight,f=u.scrollWidth;return{width:v,height:d,scrollHeight:c,scrollWidth:f}},e._setViewSize=function(){return this.view.setSize(this._getViewParams())},e._checkIfViewHasChanged=function(){return this.view.hasChanged(this._getViewParams())},e.getElements=function(){return this.elements},e.createElement=function(i){var a=new je(A({},i,{scrollAxis:this.scrollAxis,disabledParallaxController:this.disabled}));return a.setCachedAttributes(this.view,this.scroll),this.elements=this.elements?[].concat(this.elements,[a]):[a],this._updateElementPosition(a),this._checkIfViewHasChanged()&&this.update(),a},e.removeElementById=function(i){this.elements&&(this.elements=this.elements.filter(function(a){return a.id!==i}))},e.updateElementPropsById=function(i,a){this.elements&&(this.elements=this.elements.map(function(s){return s.id===i?s.updateProps(a):s})),this.update()},e.resetElementStyles=function(i){F(i)},e.update=function(){var i=this._getScrollPosition(),a=i[0],s=i[1];this.scroll.setScroll(a,s),this._setViewSize(),this._updateAllElements({updateCache:!0})},e.updateScrollContainer=function(i){this._removeListeners(this.viewEl),this.viewEl=i,this._hasScrollContainer=!!i,this.view=new ae({width:0,height:0,scrollWidth:0,scrollHeight:0,scrollContainer:i}),this._setViewSize(),this._addListeners(this.viewEl),this._updateAllElements({updateCache:!0})},e.disableParallaxController=function(){this.disabled=!0,this._removeListeners(this.viewEl),this.elements&&this.elements.forEach(function(i){return F(i)})},e.enableParallaxController=function(){var i=this;this.disabled=!1,this.elements&&this.elements.forEach(function(a){return a.updateElementOptions({disabledParallaxController:!1,scrollAxis:i.scrollAxis})}),this._addListeners(this.viewEl),this._addResizeObserver(),this._setViewSize()},e.disableAllElements=function(){console.warn("deprecated: use disableParallaxController() instead"),this.elements&&(this.elements=this.elements.map(function(i){return i.updateProps({disabled:!0})})),this.update()},e.enableAllElements=function(){console.warn("deprecated: use enableParallaxController() instead"),this.elements&&(this.elements=this.elements.map(function(i){return i.updateProps({disabled:!1})})),this.update()},e.destroy=function(){this._removeListeners(this.viewEl),this.elements&&this.elements.forEach(function(i){return F(i)}),this.elements=void 0},t}();const Je={class:"page"},Ke={class:"example"},Ge={class:"controls"},et={class:"example"},tt={class:"controls"},it=["disabled"],rt={class:"example"},at={class:"layer directive"},st={class:"layer directive"},nt={class:"controls"},lt={class:"example"},ot={class:"controls"},ut={__name:"ParallaxController",setup(t){const e=L(null),r=L(!0);function i(){return e.value||(e.value=new qe({motion:"pointer",sensitivity:.9,friction:.12,invert:!1,clamp:!0,perspective:800})),e.value}T(()=>{i()}),$(()=>{e.value&&e.value.destroy&&(e.value.destroy(),e.value=null)});const a=L(null),s=L(null),l=L(!0),u=L(.08);T(()=>{var o;e.value||i(),s.value&&((o=e.value)!=null&&o.addLayer)&&e.value.addLayer(s.value,{depth:u.value,container:a.value})});function v(){l.value=!l.value,e.value&&(l.value?e.value.addLayer(s.value,{depth:u.value,container:a.value}):e.value.removeLayer(s.value))}function d(){e.value&&e.value.updateLayer(s.value,{depth:u.value})}const c=L(null),f=new Map,m=me([]);let g=1;function _(o,n){if(!o){f.delete(n);return}f.set(n,o)}function b(){m.push({id:g++,depth:Math.random()*.12+.01})}function E(){var n;const o=m.pop();if(o&&f.has(o.id)){const h=f.get(o.id);(n=e.value)==null||n.removeLayer(h),f.delete(o.id)}}_e(()=>m.length,()=>{var o,n;for(const h of m){const y=f.get(h.id);y&&e.value&&((n=(o=e.value).addLayer)==null||n.call(o,y,{depth:h.depth,container:c.value}))}});const w=L(null),C={mounted(o,n){var h,y;e.value||i(),(y=(h=e.value).addLayer)==null||y.call(h,o,Object.assign({container:w.value},n.value||{})),o.__parallax_opts=n.value||{}},updated(o,n){var h;(h=e.value)!=null&&h.updateLayer&&e.value.updateLayer(o,Object.assign({container:w.value},n.value||{})),o.__parallax_opts=n.value||{}},unmounted(o){var n,h;(h=(n=e.value)==null?void 0:n.removeLayer)==null||h.call(n,o),delete o.__parallax_opts}};T(()=>{var n;(((n=w.value)==null?void 0:n.querySelectorAll("[v-parallax-layer], [data-v-parallax-layer]"))||[]).forEach(h=>{const y=h.getAttribute("data-parallax")||h.getAttribute("data-parallax-options");let I={};try{y&&(I=JSON.parse(y))}catch{I={}}C.mounted(h,{value:I})})});function S(){e.value||i(),r.value=!r.value,r.value&&e.value.enable&&e.value.enable(),!r.value&&e.value.disable&&e.value.disable()}function O(){var o,n;(n=(o=e.value)==null?void 0:o.recenter)==null||n.call(o)}return $(()=>{var o,n,h,y;s.value&&((n=(o=e.value)==null?void 0:o.removeLayer)==null||n.call(o,s.value));for(const I of f.values())(y=(h=e.value)==null?void 0:h.removeLayer)==null||y.call(h,I)}),(o,n)=>(X(),M("div",Je,[n[8]||(n[8]=p("h2",null,"Parallax Controller - Vue Integration Examples",-1)),p("section",Ke,[n[1]||(n[1]=p("h3",null,"Basic: manual addLayer / removeLayer",-1)),p("div",{ref_key:"basicViewport",ref:a,class:"viewport"},[p("div",{ref_key:"basicLayer",ref:s,class:"layer basic"},"Basic layer",512)],512),p("div",Ge,[p("button",{onClick:v},"Toggle Basic "+Q(l.value?"Off":"On"),1)])]),p("section",et,[n[2]||(n[2]=p("h3",null,"Multiple layers (reactive list)",-1)),p("div",{ref_key:"multiViewport",ref:c,class:"viewport"},[(X(!0),M(ye,null,ge(m,h=>(X(),M("div",{key:h.id,ref_for:!0,ref:y=>_(y,h.id),class:"layer multi"}," Layer "+Q(h.id),1))),128))],512),p("div",tt,[p("button",{onClick:b},"Add layer"),p("button",{onClick:E,disabled:m.length===0},"Remove layer",8,it)])]),p("section",rt,[n[5]||(n[5]=p("h3",null,"Directive: v-parallax-layer",-1)),p("div",{ref_key:"dirViewport",ref:w,class:"viewport"},[R((X(),M("div",at,[...n[3]||(n[3]=[U("Directive Layer (depth 0.12)",-1)])])),[[C,{depth:.12}]]),R((X(),M("div",st,[...n[4]||(n[4]=[U("Directive Layer (depth 0.04)",-1)])])),[[C,{depth:.04}]])],512),p("div",nt,[p("button",{onClick:S},"Toggle Controller "+Q(r.value?"Off":"On"),1)])]),p("section",lt,[n[7]||(n[7]=p("h3",null,"Programmatic control",-1)),p("div",ot,[p("label",null,[n[6]||(n[6]=U(" Depth for Basic Layer: ",-1)),R(p("input",{type:"range",min:"0",max:"0.5",step:"0.01","onUpdate:modelValue":n[0]||(n[0]=h=>u.value=h)},null,512),[[we,u.value,void 0,{number:!0}]])]),p("button",{onClick:d},"Apply"),p("button",{onClick:O},"Recenter")])])]))}},dt=pe(ut,[["__scopeId","data-v-25de1455"]]);export{dt as default};
